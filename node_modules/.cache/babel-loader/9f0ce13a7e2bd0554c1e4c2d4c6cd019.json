{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Desktop\\\\react-registration-autorization\\\\MERN-cloud-disk\\\\client\\\\src\\\\components\\\\navbar\\\\Navbar.jsx\";\nimport React, { useState } from 'react';\nimport './navbar.css';\nimport Logo from \"../../assets/img/navbar-logo.svg\";\nimport { NavLink } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { logout } from \"../../reducers/userReducer\";\nimport { getFiles, searchFiles } from \"../../actions/file\";\nimport { showLoader } from \"../../reducers/appReducer\";\nimport avatarLogo from \"../../assets/img/avatar.svg\";\nimport { API_URL } from \"../../config\";\n\nconst Navbar = () => {\n  const isAuth = useSelector(state => state.user.isAuth);\n  const currentDir = useSelector(state => state.files.currentDir);\n  const currentUser = useSelector(state => state.user.currentUser);\n  const dispatch = useDispatch();\n  const [searchName, setSearchName] = useState('');\n  const [searchTimeout, setSearchTimeout] = useState(false);\n  const avatar = currentUser.avatar ? `${API_URL + currentUser.avatar}` : avatarLogo;\n\n  function searchChangeHandler(e) {\n    setSearchName(e.target.value);\n\n    if (searchTimeout != false) {\n      clearTimeout(searchTimeout);\n    }\n\n    dispatch(showLoader());\n\n    if (e.target.value != '') {\n      setSearchTimeout(setTimeout(value => {\n        dispatch(searchFiles(value));\n      }, 500, e.target.value));\n    } else {\n      dispatch(getFiles(currentDir));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: Logo,\n    alt: \"\",\n    className: \"navbar__logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, \"MERN CLOUD\"), isAuth && /*#__PURE__*/React.createElement(\"input\", {\n    value: searchName,\n    onChange: e => searchChangeHandler(e),\n    className: \"navbar__search\",\n    type: \"text\",\n    placeholder: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0444\\u0430\\u0439\\u043B\\u0430...\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 28\n    }\n  }), !isAuth && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar__login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 60\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")), !isAuth && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar__registration\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/registration\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 67\n    }\n  }, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\")), isAuth && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"navbar__login\",\n    onClick: () => dispatch(logout()),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 28\n    }\n  }, \"\\u0412\\u044B\\u0445\\u043E\\u0434\"), isAuth && /*#__PURE__*/React.createElement(NavLink, {\n    to: \"/profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 28\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"navbar__avatar\",\n    src: avatar,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default Navbar;","map":{"version":3,"sources":["C:/Users/Lenovo/Desktop/react-registration-autorization/MERN-cloud-disk/client/src/components/navbar/Navbar.jsx"],"names":["React","useState","NavLink","useDispatch","useSelector","logout","getFiles","searchFiles","showLoader","API_URL","Navbar","isAuth","state","user","currentDir","files","currentUser","dispatch","searchName","setSearchName","searchTimeout","setSearchTimeout","avatar","avatarLogo","searchChangeHandler","e","target","value","clearTimeout","setTimeout","Logo"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport './navbar.css'\r\nimport Logo from '../../assets/img/navbar-logo.svg'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {logout} from \"../../reducers/userReducer\";\r\nimport {getFiles, searchFiles} from \"../../actions/file\";\r\nimport {showLoader} from \"../../reducers/appReducer\";\r\nimport avatarLogo from '../../assets/img/avatar.svg'\r\nimport {API_URL} from \"../../config\";\r\n\r\nconst Navbar = () => {\r\n    const isAuth = useSelector(state => state.user.isAuth)\r\n    const currentDir = useSelector(state => state.files.currentDir)\r\n    const currentUser = useSelector(state => state.user.currentUser)\r\n    const dispatch = useDispatch()\r\n    const [searchName, setSearchName] = useState('')\r\n    const [searchTimeout, setSearchTimeout] = useState(false)\r\n    const avatar = currentUser.avatar ? `${API_URL + currentUser.avatar}` : avatarLogo\r\n\r\n    function searchChangeHandler(e) {\r\n        setSearchName(e.target.value)\r\n        if (searchTimeout != false) {\r\n            clearTimeout(searchTimeout)\r\n        }\r\n        dispatch(showLoader())\r\n        if(e.target.value != '') {\r\n            setSearchTimeout(setTimeout((value) => {\r\n                dispatch(searchFiles(value));\r\n            }, 500, e.target.value))\r\n        } else {\r\n            dispatch(getFiles(currentDir))\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"navbar\">\r\n            <div className=\"container\">\r\n                <img src={Logo} alt=\"\" className=\"navbar__logo\"/>\r\n                <div className=\"navbar__header\">MERN CLOUD</div>\r\n                {isAuth && <input\r\n                    value={searchName}\r\n                    onChange={e => searchChangeHandler(e)}\r\n                    className='navbar__search'\r\n                    type=\"text\"\r\n                    placeholder=\"Название файла...\"/>}\r\n                {!isAuth && <div className=\"navbar__login\"><NavLink to=\"/login\">Войти</NavLink></div> }\r\n                {!isAuth && <div className=\"navbar__registration\"><NavLink to=\"/registration\">Регистрация</NavLink></div> }\r\n                {isAuth && <div className=\"navbar__login\" onClick={() => dispatch(logout()) }>Выход</div> }\r\n                {isAuth && <NavLink to='/profile'>\r\n                    <img className=\"navbar__avatar\" src={avatar} alt=\"\"/>\r\n                </NavLink>}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Navbar;\r\n"]},"metadata":{},"sourceType":"module"}